# 🚀 部署指南

## 选择部署平台

我们推荐使用 **Vercel** 进行部署，因为它：
- ✅ 免费额度充足
- ✅ 部署简单快速
- ✅ 自动HTTPS
- ✅ 全球CDN加速
- ✅ 对Node.js应用支持良好

## 📋 部署前准备

### 1. 确保代码完整
```bash
# 检查所有文件是否存在
ls -la

# 应该包含以下文件：
# - index.html (前端页面)
# - styles.css (样式文件)
# - script.js (前端逻辑)
# - config.html (配置页面)
# - config.js (配置逻辑)
# - server.js (后端服务器)
# - package.json (项目配置)
# - vercel.json (Vercel配置)
# - README.md (项目说明)
```

### 2. 提交代码到Git
```bash
# 初始化Git仓库（如果还没有）
git init

# 添加所有文件
git add .

# 提交更改
git commit -m "Ready for production deployment"

# 推送到GitHub（需要先创建仓库）
git remote add origin https://github.com/yourusername/your-repo-name.git
git push -u origin main
```

## 🌐 Vercel部署步骤

### 步骤1: 注册Vercel账号
1. 访问 [vercel.com](https://vercel.com)
2. 点击 "Sign Up"
3. 选择 "Continue with GitHub" 使用GitHub账号登录

### 步骤2: 导入项目
1. 登录后点击 "New Project"
2. 选择 "Import Git Repository"
3. 找到并选择您的项目仓库
4. 点击 "Import"

### 步骤3: 配置项目
1. **Project Name**: 输入项目名称（如：website-info-extractor）
2. **Framework Preset**: 选择 "Node.js"
3. **Root Directory**: 保持默认（./）
4. **Build Command**: 保持默认（npm run build）
5. **Output Directory**: 保持默认（.vercel/output）
6. **Install Command**: 保持默认（npm install）

### 步骤4: 环境变量配置（可选）
在项目设置中添加环境变量：
- `NODE_ENV=production`

### 步骤5: 部署
1. 点击 "Deploy" 按钮
2. 等待部署完成（通常1-2分钟）
3. 获得部署URL（如：https://your-app.vercel.app）

## 🔧 部署后配置

### 1. 自定义域名（可选）
1. 在Vercel项目设置中找到 "Domains"
2. 添加您的自定义域名
3. 按照提示配置DNS记录

### 2. 环境变量管理
如果需要修改环境变量：
1. 进入项目设置
2. 找到 "Environment Variables"
3. 添加或修改变量

## 📱 测试部署

### 1. 基础功能测试
1. 访问部署URL
2. 测试页面加载是否正常
3. 测试飞书配置功能
4. 测试网站信息提取功能

### 2. 飞书集成测试
1. 配置飞书应用信息
2. 测试数据提取和写入
3. 检查飞书多维表格中的数据

## 🔍 故障排除

### 常见问题

#### 1. 部署失败
**问题**: 部署时出现错误
**解决**:
- 检查 `package.json` 中的依赖是否正确
- 确保 `vercel.json` 配置正确
- 查看Vercel部署日志

#### 2. 应用无法访问
**问题**: 部署成功但无法访问
**解决**:
- 检查Vercel项目状态
- 查看函数日志
- 确认路由配置正确

#### 3. 飞书API调用失败
**问题**: 飞书集成不工作
**解决**:
- 检查飞书应用配置
- 确认API权限设置
- 查看服务器日志

### 日志查看
1. 在Vercel项目页面点击 "Functions"
2. 查看 `server.js` 函数的日志
3. 检查错误信息和请求状态

## 🔄 更新部署

### 自动更新
- 每次推送到GitHub主分支时，Vercel会自动重新部署
- 无需手动操作

### 手动更新
1. 修改代码
2. 提交到GitHub
3. Vercel自动检测并重新部署

## 📊 监控和维护

### 性能监控
- Vercel提供内置的性能监控
- 可以查看请求数量、响应时间等指标

### 错误监控
- 在Vercel项目设置中启用错误监控
- 及时发现问题并修复

## 🎯 部署完成检查清单

- [ ] 代码已提交到GitHub
- [ ] Vercel项目创建成功
- [ ] 部署URL可以正常访问
- [ ] 前端页面加载正常
- [ ] 飞书配置功能正常
- [ ] 数据提取功能正常
- [ ] 飞书集成功能正常
- [ ] 自定义域名配置（可选）
- [ ] 环境变量配置（可选）

## 🎉 部署成功！

恭喜！您的应用已成功部署到Vercel。

**部署URL**: https://your-app.vercel.app

现在您可以：
1. 分享链接给团队成员使用
2. 在任何设备上访问应用
3. 享受自动HTTPS和CDN加速
4. 获得专业的监控和维护

---

**需要帮助？** 如果遇到任何问题，请查看Vercel文档或联系技术支持。

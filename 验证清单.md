# ğŸ¯ **æ–¹æ¡ˆBéªŒè¯æ¸…å•**

## âœ… **ç³»ç»ŸçŠ¶æ€æ£€æŸ¥**

### 1. **Health Check - éªŒè¯ç¯å¢ƒå˜é‡**
```bash
curl https://unrivaled-pavlova-43ddb4.netlify.app/.netlify/functions/health
```

**æœŸæœ›ç»“æœï¼š**
```json
{
  "ok": true,
  "config": {
    "hasAppId": true,
    "hasAppSecret": true,
    "hasTableId": true,
    "hasEncKey": true
  }
}
```

### 2. **æœªç™»å½•ç”¨æˆ·æµ‹è¯•**
```bash
curl -X POST https://unrivaled-pavlova-43ddb4.netlify.app/.netlify/functions/extract \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com"}'
```

**æœŸæœ›ç»“æœï¼š**
- å¦‚æœç¯å¢ƒå˜é‡å·²è®¾ç½®ï¼š`{"ok": true, "results": {...}, "feishuSuccess": true}`
- å¦‚æœç¯å¢ƒå˜é‡æœªè®¾ç½®ï¼š`{"ok": false, "error": "missing_config", "fields": {...}}`

### 3. **ç™»å½•ç”¨æˆ·æµ‹è¯•**
1. è®¿é—®ï¼šhttps://unrivaled-pavlova-43ddb4.netlify.app/
2. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
3. ä½¿ç”¨Netlify Identityç™»å½•
4. é…ç½®ä¸ªäººé£ä¹¦ä¿¡æ¯
5. æµ‹è¯•æå–åŠŸèƒ½

## ğŸ”§ **ç¯å¢ƒå˜é‡è®¾ç½®**

åœ¨Netlifyæ§åˆ¶å°ä¸­è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```
CONFIG_ENC_KEY = ba5b32d86caf37ba79e4bf41a0ae636f82dcbf01e66890f807dca7b3f570555b
FEISHU_APP_ID = [ä½ çš„é£ä¹¦App ID]
FEISHU_APP_SECRET = [ä½ çš„é£ä¹¦App Secret]
FEISHU_TABLE_ID = [ä½ çš„é£ä¹¦Table ID]
```

## ğŸ“‹ **åŠŸèƒ½éªŒè¯**

### âœ… **å·²å®ç°åŠŸèƒ½**
- [x] æœªç™»å½•ç”¨æˆ·ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®
- [x] ç™»å½•ç”¨æˆ·ï¼šä½¿ç”¨ä¸ªäººç§æœ‰é…ç½®
- [x] é…ç½®åŠ å¯†å­˜å‚¨ï¼ˆAES-256-GCMï¼‰
- [x] é”™è¯¯å¤„ç†å®Œå–„ï¼ˆ400/401/500åŒºåˆ†ï¼‰
- [x] ç½‘ç«™ä¿¡æ¯æå–
- [x] é£ä¹¦å¤šç»´è¡¨æ ¼å†™å…¥
- [x] ç¤¾äº¤åª’ä½“é“¾æ¥æå–ï¼ˆçº¯æ–‡æœ¬æ˜¾ç¤ºï¼‰

### ğŸ”„ **å·¥ä½œæµç¨‹**
1. **æœªç™»å½•ç”¨æˆ·**ï¼š
   - ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®
   - å¯ä»¥æ­£å¸¸æå–å’Œå†™å…¥é£ä¹¦

2. **ç™»å½•ç”¨æˆ·**ï¼š
   - ä¼˜å…ˆä½¿ç”¨ä¸ªäººé…ç½®
   - å¦‚æœä¸ªäººé…ç½®ä¸å­˜åœ¨ï¼Œå›é€€åˆ°ç¯å¢ƒå˜é‡
   - å¯ä»¥ä¿å­˜å’Œç®¡ç†ä¸ªäººé…ç½®

## ğŸš¨ **å¸¸è§é—®é¢˜æ’æŸ¥**

### 1. **500é”™è¯¯**
- æ£€æŸ¥Netlify Functionsæ—¥å¿—
- ç¡®è®¤ç¯å¢ƒå˜é‡å·²è®¾ç½®
- éªŒè¯Blobsé…ç½®

### 2. **400é”™è¯¯**
- æ£€æŸ¥æ˜¯å¦ç¼ºå°‘å¿…è¦é…ç½®
- éªŒè¯URLæ ¼å¼æ˜¯å¦æ­£ç¡®

### 3. **401é”™è¯¯**
- ç¡®è®¤ç”¨æˆ·å·²ç™»å½•ï¼ˆä»…config-save/getéœ€è¦ï¼‰
- æ£€æŸ¥JWTä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ

## ğŸ‰ **æˆåŠŸæ ‡å¿—**

å½“çœ‹åˆ°ä»¥ä¸‹ç»“æœæ—¶ï¼Œè¯´æ˜ç³»ç»Ÿå®Œå…¨æ­£å¸¸ï¼š

```json
{
  "ok": true,
  "requestId": "abc123",
  "url": "https://example.com",
  "results": {
    "companyName": "ç¤ºä¾‹å…¬å¸",
    "description": "å…¬å¸æè¿°",
    "address": "å…¬å¸åœ°å€",
    "email": "contact@example.com",
    "phone": "+1234567890",
    "instagram": ["https://instagram.com/example"],
    "facebook": ["https://facebook.com/example"]
  },
  "feishuSuccess": true
}
```
